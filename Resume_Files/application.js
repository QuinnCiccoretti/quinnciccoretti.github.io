require=function(e,t,i){function n(i,s){function o(e){return n(o.resolve(e))}function a(t){return e[i][1][t]||t}if(!t[i]){if(!e[i]){var u="function"==typeof require&&require;if(!s&&u)return u(i,!0);if(r)return r(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}o.resolve=a;var h=t[i]=new n.Module;e[i][0].call(h.exports,o,h,h.exports)}return t[i].exports}function s(){this.bundle=n,this.exports={}}var r="function"==typeof require&&require;n.Module=s,n.modules=e,n.cache=t,n.parent=r;for(var o=0;o<i.length;o++)n(i[o]);return n}({4:[function(e,t,i){"use strict";function n(e,t){return!(!e||!t)&&e.left>=t.left&&e.left+e.width<=t.left+t.width&&e.top>=t.top&&e.top+e.height<=t.top+t.height}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=n},{}],2:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=e("./fits-in"),a=n(o),u=function(){function e(t,i,n){s(this,e),this.hiddenNodes=[],this.innerNodes=[],this.previousHiddenNodes=[],this.root=t,this.container=i,this.states=[],this.completed=!1,this.currentPage=0,this.totalPages=1,this.ignoreElements=n.ignoreElements.length>0,this.ignoredList=n.ignoreElements,this.paginate()}return r(e,[{key:"paginate",value:function(){var e=this.container.getBoundingClientRect();this.checkVisible(this.root,e),this.hideNodes(),this.states.push({visible:this.innerNodes.slice(),hidden:this.hiddenNodes.slice(),previousHidden:[]}),this.hiddenNodes.length||(this.completed=!0,this.totalPages=1)}},{key:"checkVisible",value:function(e,t){var i=0,n=e.childNodes;if(this.states.length&&-1!==this.states[this.currentPage-1].visible.indexOf(e))return 1;if(3===e.nodeType){if(this.ignoreElements&&this.checkClassNameContains(this.ignoredList,e.parentNode.className))return 1;if(""!==e.wholeText.trim()){var s=e.parentNode.getBoundingClientRect();return(0,a["default"])(s,t)?(-1===this.innerNodes.indexOf(e.parentNode)&&this.innerNodes.push(e.parentNode),1):(-1===this.hiddenNodes.indexOf(e.parentNode)&&this.hiddenNodes.push(e.parentNode),0)}return 1}if(1===e.nodeType){if("avoid"===this.getStyleValue(e,"breakInside")){if(this.ignoreElements&&this.checkClassNameContains(this.ignoredList,e.className))return 0;var r=e.getBoundingClientRect();return(0,a["default"])(r,t)?(this.innerNodes.push(e),1):(this.hiddenNodes.push(e),0)}if("inline"===this.getStyleValue(e,"display")){var o=e.parentNode.getBoundingClientRect();return(0,a["default"])(o,t)?(this.innerNodes.push(e),1):0}if(0===n.length)return this.ignoreElements&&this.checkClassNameContains(this.ignoredList,e.className)?0:(0,a["default"])(e.getBoundingClientRect(),t)?(this.innerNodes.push(e),1):(this.hiddenNodes.push(e),0)}for(var u=0;u<n.length;++u)i+=this.checkVisible(n[u],t);return i===n.length&&0!==n.length?this.ignoreElements&&this.checkClassNameContains(this.ignoredList,e.className)?0:(-1===this.innerNodes.indexOf(e)&&this.innerNodes.push(e),1):0}},{key:"getStyleValue",value:function(e,t){return window.getComputedStyle(e)[t]}},{key:"checkClassNameContains",value:function(e,t){return t.split(" ").some(function(t){return-1!==e.indexOf(t)})}},{key:"checkFinalElementVisible",value:function(e,t){var i=e.getBoundingClientRect();return(0,a["default"])(i,t)}},{key:"hideNodes",value:function(){this.hiddenNodes.forEach(function(e){e.style.display="none"})}},{key:"nextPage",value:function(){var e=this;if(this.completed&&this.currentPage===this.totalPages-1)return null;if(this.currentPage<this.states.length-1)return++this.currentPage,void this.showPage(this.currentPage);++this.currentPage;var t=this.container.getBoundingClientRect();this.hiddenNodes.forEach(function(e){e.style.display=""}),this.previousHiddenNodes.forEach(function(e){e.style.display="none"},this),this.innerNodes.forEach(function(e){e.style.display="none",-1===this.previousHiddenNodes.indexOf(e)&&this.previousHiddenNodes.push(e)},this),this.hiddenNodes=[],this.innerNodes=[],this.checkVisible(this.root,t),this.hideNodes(),this.states.push({visible:this.innerNodes.slice(),hidden:this.hiddenNodes.slice(),previousHidden:this.previousHiddenNodes.slice()}),this.completed||this.totalPages++,this.hiddenNodes.every(function(t){return-1!==e.previousHiddenNodes.indexOf(t)})&&(this.completed=!0)}},{key:"previousPage",value:function(){this.currentPage&&(--this.currentPage,this.showPage(this.currentPage))}},{key:"showPage",value:function(e){this.hiddenNodes=this.states[e].hidden.slice(),this.innerNodes=this.states[e].visible.slice(),this.previousHiddenNodes=this.states[e].previousHidden.slice(),this.innerNodes.forEach(function(e){e.style.display=""}),this.hiddenNodes.forEach(function(e){e.style.display="none"}),this.previousHiddenNodes.forEach(function(e){e.style.display="none"})}},{key:"getCurrentPage",value:function(){return this.root}},{key:"getCurrentPageNumber",value:function(){return this.currentPage}},{key:"isComplete",value:function(){return this.completed}},{key:"getTotalPagesCount",value:function(){return this.completed?this.totalPages:null}}]),e}();i["default"]=u},{"./fits-in":4}],1:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var s=e("./paguin"),r=n(s);i["default"]=r["default"],window.Paguin=r["default"]},{"./paguin":2}]},{},[1]),document.addEventListener("DOMContentLoaded",function(){function e(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent&&e.attachEvent("on"+t,i)}function t(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+e()+e()}function i(){var e=window.frameElement;e&&(e.id=o,s("newObject"))}function n(){return{isComplete:d.isComplete(),currentPage:d.getCurrentPageNumber(),totalPagesCount:d.getTotalPagesCount()}}function s(e){window.parent.postMessage(a+"#"+o+"#"+e,"*")}function r(e){var t=e.split("#");if(t[0]===a){var r=null;switch(t[1]){case"newObject":i();break;case"paginate":try{d=new Paguin(u,u,{ignoreElements:["dont-hide-me"]})}catch(e){s("error#"+JSON.stringify(e))}r=n(),s("pagination#"+JSON.stringify(r));break;case"nextPage":try{d.nextPage()}catch(e){s("error#"+JSON.stringify(e))}break;case"previousPage":try{d.previousPage()}catch(e){s("error#"+JSON.stringify(e))}break;case"isPaginationComplete":case"getCurrentPageNumber":r=n(),s("getCurrentPageNumber#"+JSON.stringify(r))}}}var o=t(),a="frameProtocol",u=document.querySelector(".preview-box"),d=null;e(window,"message",function(e){r(e.data)})},!1);